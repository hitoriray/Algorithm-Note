# 堆与栈

### 请说一说你理解的stack overflow


- **栈溢出概念：** 栈溢出指的是程序向栈中某个变量中写入的字节数超过了这个变量本身所申请的字节数，因而导致栈中与其相邻的变量的值被改变。
- **栈溢出的原因：**
- **局部数组过大**。当函数内部的数组过大时，有可能导致堆栈溢出。局部变量是存储在栈中的，因此这个很好理解。解决这类问题的办法有两个，一是增大栈空间,二是改用动态分配，使用堆（heap）而不是栈（stack）。
- **递归调用层次太多**。递归函数在运行时会执行压栈操作，当压栈次数太多时，也会导致堆栈溢出。
- **指针或数组越界**。这种情况最常见，例如进行字符串拷贝，或处理用户输入等等。

---

### 请你回答一下栈和堆的区别，以及为什么栈要快

- **堆和栈的区别：** 
  1. 堆是由低地址向高地址扩展；栈是由高地址向低地址扩展
  2. 堆中的内存需要手动申请和手动释放；栈中内存是由OS自动申请和自动释放，存放着参数、局部变量等内存
  3. 堆中频繁调用malloc和free,会产生内存碎片，降低程序效率；而栈由于其先进后出的特性，不会产生内存碎片 
  4. 堆的分配效率较低，而栈的分配效率较高
- **栈的效率高的原因：** 栈是操作系统提供的数据结构，计算机底层对栈提供了一系列支持：分配专门的寄存器存储栈的地址，压栈和入栈有专门的指令执行；而堆是由C/C++函数库提供的，机制复杂，需要一些列分配内存、合并内存和释放内存的算法，因此效率较低。

---

### 请你说一说小根堆特点

#### 堆是一棵完全二叉树（如果一共有h层，那么1~h-1层均满，在h层可能会连续缺失若干个右叶子）。

- **1）小根堆** 若根节点存在左孩子则根节点的值小于左孩子的值；若根节点存在右孩子则根节点的值小于右孩子的值。
- **2）大根堆** 若根节点存在左孩子则根节点的值大于左孩子的值；若根节点存在右孩子则根节点的值大于右孩子的值。

### 请你解释一下，内存中的栈(stack)、堆(heap) 和静态区(static area) 的用法。并且说明heap和stack有什么区别。

> 通常我们定义一个基本数据类型的变量，一个对象的引用，还有就是函数调用的现场保存都使用内存中的栈空间；而通过new关键字和构造器创建的对象放在堆空间；程序中的字面量（literal）如直接书写的100、"hello"和常量都是放在静态区中。栈空间操作起来最快但是栈很小，通常大量的对象都是放在堆空间，理论上整个内存没有被其他进程使用的空间甚至硬盘上的虚拟内存都可以被当成堆空间来使用。 栈是一种线形集合，其添加和删除元素的操作应在同一段完成。栈按照后进先出的方式进行处理。堆是栈的一个组成元素。

### 大顶堆怎么插入删除
